


### Firebase Authentication ì„¤ì •í•˜ê¸°

[Firebase ë©”ì¸](https://firebase.google.com/?hl=ko)ì—ì„œ ì‹œì‘í•˜ê¸° ë²„íŠ¼ í´ë¦­

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i50g-230125-105020.png" alt="Firebase ì›¹ì‚¬ì´íŠ¸ ë©”ì¸ í™”ë©´" />
  <figcaption>í´ë¦­!</figcaption>
</figure>

í”„ë¡œì íŠ¸ê°€ ì—†ë‹¤ë©´ í”„ë¡œì íŠ¸ë¥¼ ì¶”ê°€í•˜ê³  ì´ë¯¸ ìƒì„±ë˜ì–´ ìˆë‹¤ë©´ í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•œë‹¤.

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i1g-230125-110159.png" alt="Firebase í”„ë¡œì íŠ¸ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€" />
  <figcaption>ì €ëŠ” ì´ë¯¸ 2ê°œê°€ ìˆì–´ìš”</figcaption>
</figure>

í”„ë¡œì íŠ¸ ê°œìš”í˜ì´ì§€ì—ì„œ Authentication 'ì‹œì‘í•˜ê¸°' ë²„íŠ¼ í´ë¦­

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i46g-230125-104635.png" alt="Firebase í”„ë¡œì íŠ¸ ê°œìš” í˜ì´ì§€" />
  <figcaption>Authentication ê¸°ë‹¤ë ¤</figcaption>
</figure>

#### ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ ì„¤ì •

ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ëŠ” ì‚¬ìš© ì„¤ì •ë§Œ í™œì„±í™” ì‹œì¼œì£¼ë©´ ëœë‹¤.

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i17g-230125-111703.png" alt="Firebase Authentication ì¸ì¦ ì„¤ì • í˜ì´ì§€" />
  <figcaption>ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ í´ë¦­</figcaption>
</figure>

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i18g-230125-111827.png" alt="ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì‚¬ìš© ì„¤ì • í˜ì´ì§€" />
  <figcaption>ì‚¬ìš© ì„¤ì • í™œì„±í™” í›„ ì €ì¥</figcaption>
</figure>

#### êµ¬ê¸€ ì¸ì¦ ì„¤ì •

êµ¬ê¸€ì€ ì‚¬ìš© ì„¤ì • í™œì„±í™” í›„ ì´ë©”ì¼ ê¸°ì… í›„ ì €ì¥.

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i19g-230125-111939.png" alt="Firebase Authentication ì¸ì¦ ì„¤ì • í˜ì´ì§€" />
  <figcaption>ì‚¬ìš© ì„¤ì • í™œì„±í™” í›„ ì €ì¥</figcaption>
</figure>

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i20g-230125-142056.png" alt="êµ¬ê¸€ ì‚¬ìš© ì„¤ì • í˜ì´ì§€" />
  <figcaption>'í”„ë¡œì íŠ¸ì˜ ê³µê°œìš© ì´ë¦„'ì€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ê³ , 'í”„ë¡œì íŠ¸ ì§€ì› ì´ë©”ì¼'ë§Œ ê¸°ì…í•´ì¤€ë‹¤.</figcaption>
</figure>


#### ê¹ƒí—™ ì¸ì¦ ì„¤ì •

ê¹ƒí—™ì€ í´ë¼ì´ì–¸íŠ¸ IDì™€ í´ë¼ì´ì–¸íŠ¸ ë³´ì•ˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê¸°ì…í•´ì¤˜ì•¼ í•˜ëŠ”ë°, ìš”ê±´ ê¹ƒí—™ì—ì„œ ë³„ë„ ì„¤ì •ì„ í•´ì¤˜ì•¼í•œë‹¤.

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i36g-230125-143622.png" alt="ê¹ƒí—™ ì‚¬ìš© ì„¤ì • í˜ì´ì§€" />
  <figcaption>'í”„ë¡œì íŠ¸ì˜ ê³µê°œìš© ì´ë¦„'ì€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ê³ , 'í”„ë¡œì íŠ¸ ì§€ì› ì´ë©”ì¼'ë§Œ ê¸°ì…í•´ì¤€ë‹¤.</figcaption>
</figure>

ê¹ƒí—™ ìš°ì¸¡ ìƒë‹¨ì— ë³¸ì¸ í”„ë¡œí•„ í´ë¦­ í›„ 'Setting' ë©”ë‰´ ì„ íƒ > 'Developer settings' ë©”ë‰´ ì„ íƒ
<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i48g-230125-144806.png" alt="" />
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i48g-230125-144839.png" alt="" />
  <figcaption>ë©”ë‰´ ì„ íƒ, ì„ íƒ</figcaption>
</figure>

'OAuth Apps' ë©”ë‰´ ì„ íƒ í›„ 'Register application' ë²„íŠ¼ í´ë¦­

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i50g-230125-145029.png" alt="" />
  <figcaption>'í”„ë¡œì íŠ¸ì˜ ê³µê°œìš© ì´ë¦„'ì€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ê³ , 'í”„ë¡œì íŠ¸ ì§€ì› ì´ë©”ì¼'ë§Œ ê¸°ì…í•´ì¤€ë‹¤.</figcaption>
</figure>

>  **OAuthë€** ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì˜ ê³„ì • ì •ë³´ì˜ ì ‘ê·¼ ê¶Œí•œë§Œ ë°›ì•„ í•´ë‹¹ ê³„ì •ì„ ì´ìš©í•´ ë¡œê·¸ì¸í•  ìˆ˜ ì‡ê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥. ì¦‰, êµ¬ê¸€ì´ë‚˜ ê¹ƒí—ˆë¸Œ ê³„ì •ìœ¼ë¡œ ê°€ì…í•œ ì‚¬ìš©ìì—ê²ŒëŠ” ë³„ë„ì˜ ì•„ì´ë””ë‚˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê°€ì…ìì—ê²Œ ìš”êµ¬í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

ì•„ë˜ í™”ë©´ ì²˜ëŸ¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì •ë³´ë¥¼ ì…ë ¥í•˜ëŠ” í¼ì„ ë§Œë‚˜ê²Œ ë˜ëŠ”ë°, 'Authorization callback URL'ì€ Firebase ê¹ƒí—™ ì‚¬ìš© ì„¤ì •ì— ìˆë˜ ìŠ¹ì¸ ì½œë°± URLì„ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ì–´ì£¼ë©´ ëœë‹¤. 

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i53g-230125-145336.png" alt="" />
  <figcaption>ì…ë ¥í›„ Register application!</figcaption>
</figure>

ì´ì œ 'Client ID'ì™€ 'Client secrets'ë¥¼ ì¹´í”¼í•˜ì—¬

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i0g-230125-150028.png" alt="" />
  <figcaption>ê¹ƒí—™! ì°¸ ê·€ì°®ì•˜ë‹¤. í•˜ì§€ë§Œ ê³ ë§ˆì›Œ</figcaption>
</figure>

ì•„ë˜ì™€ ê°™ì´ Firebase ê¹ƒí—™ ì‚¬ìš© ì„¤ì • í¼ì— ì…ë ¥ í›„ ì €ì¥í•´ì£¼ë©´ ëœë‹¤.

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i2g-230125-150233.png" alt="" />
  <figcaption>í›„í›„</figcaption>
</figure>

#### SDK ì„¤ì • ë° êµ¬ì„±

ì´ì œ í”„ë¡œì íŠ¸ ì„¤ì •ì— ë“¤ì–´ê°€ì„œ

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i39g-230125-153903.png" alt="" />
  <figcaption>í›„í›„</figcaption>
</figure>

í”„ë¡œì íŠ¸ì˜ SDK ì„¤ì •ì— ëŒ€í•œ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<figure>
  <img src="/posts/images/nuxt-google-github-login-firebase-authentication/i40g-230125-154012.png" alt="" />
  <figcaption>í›„í›„</figcaption>
</figure>

> **SDK?**

> ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ í‚¤íŠ¸(Software Development Kit, SDK)ëŠ” (ì¼ë°˜ì ìœ¼ë¡œ) í•˜ë“œì›¨ì–´ í”Œë«í¼, ìš´ì˜ ì²´ì œ(Operating System, OS) ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ì œì‘ì‚¬ê°€ ì œê³µí•˜ëŠ” ì¼ë ¨ì˜ íˆ´ì…ë‹ˆë‹¤.

> ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìëŠ” SDKë¥¼ í™œìš©í•˜ì—¬ íŠ¹ì • í”Œë«í¼, ì‹œìŠ¤í…œ ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì— ë”°ë¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ì§ì ‘ ì¡°ë¦½í•  ìˆ˜ ìˆëŠ” ì˜·ì¥ì— í¬í•¨ë˜ì–´ ìˆëŠ” ë„êµ¬ í‚¤íŠ¸ë¼ê³  ìƒê°í•˜ì‹œë©´ ì‰¬ìš¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤. SDKëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì— ì‚¬ìš©ëœë‹¤ëŠ” ê²ƒë§Œ ë‹¤ë¥¼ ë¿ì…ë‹ˆë‹¤. ì‘ì—… ì™„ë£Œì— í•„ìš”í•œ ìš”ì†Œ ë˜ëŠ” ê°œë°œ íˆ´ì€ ì œê³µë˜ì§€ë§Œ í‚¤íŠ¸ì— í¬í•¨ëœ ë‚´ìš©ë¬¼ì€ ì œì‘ì‚¬ë§ˆë‹¤ ë‹¤ë¦…ë‹ˆë‹¤. 

> ğŸ“Œ ì¶œì²˜ [SDKì˜ ê°œë…, í”Œë«í¼, ì°¨ì´ì , ê°œë°œ, ì‚¬ìš©ì–¸ì–´ ë° ì‚¬ìš©ë²• | Red Hat](https://www.redhat.com/ko/topics/cloud-native-apps/what-is-SDK)

### í”„ë¡œì íŠ¸ì— ê¸°ëŠ¥ ì¶”ê°€

ì´ì œ í”„ë¡œì íŠ¸ì— Firebaseë¥¼ ì„¸íŒ…í•˜ê³  ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³¸ë‹¤.

#### Firebase ì„¤ì¹˜/ì„¸íŒ…

firebase íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì£¼ê³ 

```
yarn add firebase
```

ìœ„ì—ì„œ í™•ì¸í–ˆë˜ Firebase SDK ì„¤ì • ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ë³µì‚¬í•´ì„œ í”„ë¡œì íŠ¸ì— ìƒˆíŒŒì¼ë¡œ ìƒì„±í•œë‹¤. ë‚˜ëŠ” plugins í´ë”ì— ìƒì„±í–ˆë‹¤.

ë³´ì•ˆ í‚¤ê°’ë“¤ì€ ê·¸ëŒ€ë¡œ ë…¸ì¶œë˜ë©´ ì•ˆë˜ë‹ˆ, í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •í•´ì¤€ë‹¤.

Nuxtì—ì„œëŠ” nuxt.config.jsì— í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì•¼í•˜ëŠ”ë°, nuxt.config.jsë„ githubì— ì˜¬ë¼ê°€ëŠ” íŒŒì¼ì´ë‹ˆ,
.envíŒŒì¼ì— í™˜ê²½ë³€ìˆ˜ ì„¤ì • í›„ ë‹¤ì‹œ nuxt.config.jsì—ì„œ .envíŒŒì¼ì— ì •ì˜í•œ í™˜ê²½ë³€ìˆ˜ë¥¼ ê°’ìœ¼ë¡œ ì§€ì •í•´ì¤¬ë‹¤.

#### ğŸ“ƒ src/plugins/firebase.js

```javascript
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app"
import { getAuth } from "firebase/auth"

// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: process.env.fbApiKey,
  authDomain: process.env.fbAuthDomain,
  projectId: process.env.fbProjectId,
  storageBucket: process.env.fbStorageBucket,
  messagingSenderId: process.env.fbMessagingSenderId,
  appId: process.env.fbAppId,
  measurementId: process.env.fbMeasurementId
};

// Initialize Firebase
const app = initializeApp(firebaseConfig)

export const auth = getAuth(app)
```

ê·¸ë¦¬ê³  ì›í•˜ëŠ” ê³³ì— ë¡œê·¸ì¸ ë²„íŠ¼ê³¼ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì¤€ë‹¤. ëŸ¬í”„í•˜ê²Œ ê¸°ëŠ¥ë§Œ êµ¬í˜„í•´ ë³¸ ë‚´ìš©ì´ë‹¤.

#### ğŸ“ƒ src/pages/login/index.vue

```html
<template>
  <section>
    <h2>ë¡œê·¸ì¸</h2>
    <template v-if="!isLogin">
      <button @click="onClickLogin('google')">êµ¬ê¸€ ë¡œê·¸ì¸</button>
      <button @click="onClickLogin('github')">ê¹ƒí—™ ë¡œê·¸ì¸</button>
    </template>
    <template v-else>
      <p>{{ userEmail }}</p>
      <p>{{ userName }}</p>
      <button @click="onClickLogout()">ë¡œê·¸ì•„ì›ƒ</button>
    </template>
  </section>

</template>

<script>
import { GithubAuthProvider, GoogleAuthProvider, signInWithPopup } from "firebase/auth"
import { auth } from "@/plugins/firebase"

export default {
  data() {
    return {
      emailInputValue: '',
      userEmail: null,
      userName: null,
      isLogin: false
    }
  },
  methods: {
    async onClickLogin(serviceName) {
      const LoginData = await this.snsPopupLogin(serviceName)      
      if(!LoginData) return
      this.isLogin = true
      this.userEmail = LoginData.user.email
      this.userName = LoginData.user.displayName
    },
    async snsPopupLogin(serviceName) {
      let provider
      if(serviceName === 'google') {
        provider = new GoogleAuthProvider()
      } else if(serviceName === 'github') {
        provider = new GithubAuthProvider()
      }

      try {
        const res = await signInWithPopup(auth, provider)
        return res
      } catch(e) {
        if(e.code.includes('popup-blocked')) {
          alert('íŒì—… ì°¨ë‹¨ í•´ì œ í›„ ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”!')
        } else {
          console.error('snsPopupLogin : ', e, e.code)
        }
      }    
    },
    onClickLogout() {
      try {
        auth.signOut()
        this.isLogin = false
        this.userEmail = null
        this.userName = null
      } catch(e) {
        console.error('ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨ : ', e)
      }
    },
  }
}
</script>
```

firebase auth ê´€ë ¨í•˜ì—¬ ë” ë§ì€ ê¸°ëŠ¥ë“¤ì€ [api ëª…ì„¸](https://firebase.google.com/docs/reference/js/v8/firebase.auth)ë¥¼ ì°¸ê³ í•˜ë©´ëœë‹¤.

### ë§ˆì£¼ì³¤ë˜ ì´ìŠˆë“¤

#### íŒì—… ì°¨ë‹¨

ì•„ë¬´ë˜ë„ sns ë¡œê·¸ì¸ ì§„í–‰ì´ í˜ì´ì§€ê°€ ë„˜ì–´ê°€ëŠ” ê²ƒë³´ë‹¤ëŠ” íŒì—…ì´ ë„ì›Œì§€ëŠ”ê²Œ ìì—°ìŠ¤ëŸ½ë‹¤ê³  ìƒê°í–ˆê¸° ë–„ë¬¸ì— íŒì—…ìœ¼ë¡œ ì„¤ì •í–ˆëŠ”ë°,
ì‚¬ì´íŠ¸ íŒì—… ì„¤ì •ì´ ì°¨ë‹¨ë˜ì–´ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤.

ì´ë•Œ ì˜ˆì™¸ì²˜ë¦¬ê°€ í•„ìš”í•œë°, <code>signInWithPopup</code> ë©”ì„œë“œì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ë•Œ ë±‰ëŠ” ì—ëŸ¬ ì½”ë“œë¥¼ í™•ì¸í•´ì„œ ì¼€ì´ìŠ¤ë³„ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

ì—ëŸ¬ì½”ë“œ ì¢…ë¥˜ê°€ ê¶ê¸ˆí•˜ë‹¤ë©´ [API ëª…ì„¸ì— signInWithPopup ë©”ì„œë“œ](https://firebase.google.com/docs/reference/js/v8/firebase.auth.Auth#signinwithpopup)ë¥¼ í™•ì¸í•˜ë©´ ëœë‹¤. ë¯¸ì²˜ ì˜ˆìƒì¹˜ ëª»í•œ ì—ëŸ¬ì½”ë“œë“¤ë„ í™•ì¸í•˜ê³  ì˜ˆì™¸ì²˜ë¦¬ í•  ìˆ˜ ìˆì–´ ì¢‹ì„ ë“¯ í•˜ë‹¤.

#### auth/account-exists-with-different-credential

ë‚´ ê²½ìš°ëŠ” ê¹ƒí—™ ê³„ì •ì´ êµ¬ê¸€ ì´ë©”ì¼ì´ë¼ì„œ êµ¬ê¸€ ë¡œê·¸ì¸ í›„, ê¹ƒí—™ ë¡œê·¸ì¸ì„ í•˜ë ¤ê³  í•˜ë©´ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ì´ë¼ê³  ì—ëŸ¬ê°€ ë‚¬ë‹¤. [ê³µì‹ë¬¸ì„œì— ì˜ˆì™¸ì²˜ë¦¬ ì½”ë“œ](https://firebase.google.com/docs/auth/web/google-signin?hl=ko#handling-account-exists-with-different-credential-errors)ê¹Œì§€ ì˜ ì •ë¦¬ë˜ì–´ìˆìœ¼ë‹ˆ ì°¸ê³ í•˜ë©´ ì¢‹ê² ë‹¤.


---

### ì°¸ê³ 

- [Do it! í´ë¡  ì½”ë”© íŠ¸ìœ„í„°](http://www.yes24.com/Product/Goods/103190780)
- [Firebase ê³µì‹ ë¬¸ì„œ](https://firebase.google.com/docs/auth/web/start?hl=ko)