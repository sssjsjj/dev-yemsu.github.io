<!DOCTYPE html><html lang="ko"><head>
        <title>CSS 렌더링 과정 (번역/요약)</title>
        <meta name="title" content="CSS 렌더링 과정 (번역/요약)" />
        <meta name="description" content="다 안다고 생각했는데 막상 들춰 보니 잘 몰랐던 텍스트를 더 풍부하게 해주는 시맨틱 태그들." />
        <meta name="keywords" content="CSS,CSSOM,렌더트리" />
        <meta property="og:url" content="https://yemsu.github.io/css-rendering-process" />
        <meta property="og:type" content="article" />
        <meta property="og:title" content="CSS 렌더링 과정 (번역/요약)" />
        <meta property="og:description" content="다 안다고 생각했는데 막상 들춰 보니 잘 몰랐던 텍스트를 더 풍부하게 해주는 시맨틱 태그들." />
        <meta property="og:image" content="https://yemsu.github.io/images/og_image.jpg" />
        <meta property="twitter:card" content="https://yemsu.github.io/images/og_image.jpg" />
        <meta property="twitter:url" content="https://yemsu.github.io/css-rendering-process" />
        <meta property="twitter:title" content="CSS 렌더링 과정 (번역/요약)" />
        <meta property="twitter:description" content="다 안다고 생각했는데 막상 들춰 보니 잘 몰랐던 텍스트를 더 풍부하게 해주는 시맨틱 태그들." />
        <meta property="twitter:image" content="https://yemsu.github.io/images/og_image.jpg" />
      <style>
    .utterances {
      position: relative;
      box-sizing: border-box;
      width: 100%;
      max-width: 760px;
      margin-left: auto;
      margin-right: auto;
    }
    .utterances-frame {
      color-scheme: light;
      position: absolute;
      left: 0;
      right: 0;
      width: 1px;
      min-width: 100%;
      max-width: 100%;
      height: 100%;
      border: 0;
    }
  </style><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2284%22>🌊</text></svg>"><title>ENJOY DEV</title><meta name="naver-site-verification" content="c702bde42c5742aa62750f39d810dd87c91f4811"><meta name="google-site-verification" content="rRA_cKc94OITZM0hBG9JQUQBl8IbTx9G7cY6mUo1hgw"><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-922R4CGCRZ"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-922R4CGCRZ');</script><link href="/css/chunk-74d2d95d.css" rel="prefetch"><link href="/css/chunk-773fa2dd.css" rel="prefetch"><link href="/js/chunk-74d2d95d.js" rel="prefetch"><link href="/js/chunk-773fa2dd.js" rel="prefetch"><link href="/css/app.css" rel="preload" as="style"><link href="/js/app.js" rel="preload" as="script"><link href="/js/chunk-vendors.js" rel="preload" as="script"><link href="/css/app.css" rel="stylesheet"><link rel="stylesheet" type="text/css" href="/css/chunk-74d2d95d.css"><script charset="utf-8" src="/js/chunk-74d2d95d.js"></script></head><body><noscript><strong>We're sorry but ENJOY DEV doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id="app" data-v-app=""><metainfo></metainfo><header data-v-49c83e62=""><h1 data-v-49c83e62=""><a href="/" class="logo size-medium" data-v-295f0452="" data-v-49c83e62=""><span class="logo-text dev" data-v-295f0452=""> D<span class="hidden" data-v-295f0452="">E</span>V </span><span class="logo-text enjoy" data-v-295f0452=""><span class="common-e" data-v-295f0452="">E</span>NJOY🌊 </span></a></h1><div class="links" data-v-49c83e62=""><a href="https://github.com/yemsu/" title="Yemsu Github" target="_blank" data-v-49c83e62=""><svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="26" data-view-component="true" class="octicon octicon-mark-github v-align-middle"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a></div></header><div class="container size-narrow" data-v-5006e508="" data-v-0cc18c81=""><nav class="outLiner" data-v-0cc18c81=""><h2 class="ir">글 목차 (클릭하여 바로가기)</h2><ul><li class=""><a href="#렌더링-단계">1. 렌더링 단계</a></li><li class=""><a href="#HTML과-렌더링-경로">2. HTML과 렌더링 경로</a></li><li class=""><a href="#CSS-객체-모델">3. CSS 객체 모델</a></li><li class=""><a href="#렌더링-트리">4. 렌더링 트리</a></li><li class="subTitle"><a href="#렌더링-트리를-만드는-과정">4-1. 렌더링 트리를 만드는 과정</a></li><li class=""><a href="#레이아웃-그리고-나머지-픽셀-그리기">5. 레이아웃 그리고 나머지 픽셀 그리기</a></li></ul></nav><!----><article data-v-0cc18c81="" style=""><div class="wrap-info" data-v-0cc18c81=""><h2 class="title" data-v-0cc18c81="">CSS 렌더링 과정 (번역/요약)</h2><p class="date" data-v-0cc18c81="">2020-4-1</p><ul class="keywords" data-v-0cc18c81=""><li class="keyword" data-v-0cc18c81="">CSS</li><li class="keyword" data-v-0cc18c81="">CSSOM</li><li class="keyword" data-v-0cc18c81="">렌더트리</li></ul></div><div class="article" data-v-0cc18c81=""><p>아래 문서를 요약/번역한 포스팅입니다.</p>
<p>원문 - <a href="https://blog.logrocket.com/how-css-works-parsing-painting-css-in-the-critical-rendering-path-b3ee290762d3">How CSS works: Parsing &amp; painting CSS in the critical rendering path - LogRocket Blog</a></p>
<hr>
<h3 id="렌더링-단계">렌더링 단계</h3>
<p>초기 페이지를 렌더링 할 때 브라우저의 최소 단계는 이러하다.</p>
<ol>
<li>수신된 HTML에서 DOM 빌드</li>
<li>CSS 스타일 시트(임베디드 혹은 링크)가 발생하면 <strong>CSSOM</strong>*을 작성</li>
<li>DOM을 빌드하는 동안 JS블록이 발생하면 CSSOM생성을 기다리고 DOM 생성을 중간하고 코드를 실행한다. JS실행이 DOM을 수정하고 CSSOM에 접근하여 수정할 수 있기 때문.</li>
</ol>
<p><strong>CSSOM</strong>* : CSS Object Model. DOM과 유사한 구조. DOM처럼 생성될때 렌더링이 차단됨. </p>
<h3 id="HTML과-렌더링-경로">HTML과 렌더링 경로</h3>
<p>CSS는 근본적으로 스타일 마크업 언어이기 때문에 DOM과 상호작용하는 방식을 알아야 한다.
HTML이 주어지면 DOM을 생성한다. 그 과정에서 렌더링은 차단된다.</p>
<figure>
  <img src="/posts/images/css-rendering-process/i42g-230103-144217.png" alt="DOM 트리">
  <figcaption>출처: https://blog.logrocket.com/how-css-works-parsing-painting-css-in-the-critical-rendering-path-b3ee290762d3</figcaption>
</figure>
<h3 id="CSS-객체-모델">CSS 객체 모델</h3>
<ol>
<li>CSS가 주어지면 CSSOM이 생성된다.</li>
<li>CSS셀렉터를 파싱하여 아래 트리구조 처럼 각각 맞는 위치를 할당한다.</li>
<li>단일 선택자는 해당 노드에 바로 연결되고,</li>
<li>중첩 선택자는 오른쪽에서 왼쪽으로 읽히면서 올바른 노드에 있는지 확인 뒤 연결된다.</li>
</ol>
<figure>
  <img src="/posts/images/css-rendering-process/i43g-230103-144345.png" alt="CSSOM 트리">
  <figcaption>출처: https://blog.logrocket.com/how-css-works-parsing-painting-css-in-the-critical-rendering-path-b3ee290762d3</figcaption>
</figure>
<p>CSS를 CSSOM으로 변환하는 것은 HTML에서 DOM을 생성하는 것처럼 렌더링 차단 단계로 간주된다.
CSSOM을 기다리지 않고 바로 픽셀로 렌더링 된다면 CSSOM이 분석,연결하는 동안 제대로 css가 적용되지 않은 못생긴 화면이 깜빡! 거리면서 보일 것이다.</p>
<h3 id="렌더링-트리">렌더링 트리</h3>
<p>브라우저는 위처럼 DOM, CSSOM을 생성한 후 얘네를 사용해서 "렌더링 트리"를 만든다.
즉, 렌더링 트리라는 것은 브라우저에서 페이지를 만들 때 필요한 모든 정보가 들어있다.</p>
<h4 id="렌더링-트리를-만드는-과정">렌더링 트리를 만드는 과정</h4>
<ol>
<li>DOM과 CSSOM을 가져옴</li>
<li>DOM에서 보이지 않는 것을 제외 시킨다. (<code>head</code>, <code>script</code>, <code>meta</code>, hidden속성의 html)</li>
<li>CSSOM을 살펴보면서 지금까지 렌더링된 트리의 어떤 요소가 CSS 선택자와 일치하는 지 확인 후 일치하는 렌더링 트리 해당 노드에 CSS 속성이 적용된다. </li>
</ol>
<p>다만, <code>display:none</code> 속성은 렌더링 트리에서 해당 요소를 완전히 제거한다.
따라서 존재는 하되 보이지만 않아야 한다면 <code>opacity:0</code> 과 같은 속성을 쓰면 된다.</p>
<figure>
  <img src="/posts/images/css-rendering-process/i45g-230103-144506.png" alt="DOM 트리, CSSOM 트리, 렌더 트리">
  <figcaption>출처: https://blog.logrocket.com/how-css-works-parsing-painting-css-in-the-critical-rendering-path-b3ee290762d3</figcaption>
</figure>
<h3 id="레이아웃-그리고-나머지-픽셀-그리기">레이아웃 그리고 나머지 픽셀 그리기</h3>
<p>이렇게 렌더링 트리가 완료되면 실제 픽셀을 페이지에 넣을 준비가 완료 되었다. 레이아웃은 각 요소들의 위치와 그 친구들의 공간을 파악하는 것이다. 브라우저는 여백, 패딩, 너비, 포지션등을 고려한다. 레이아웃은 부모 노드의 위치나 크기에 영향을 받기 때문에 위에서부터 아래로 렌더링 된다.
이때, 픽셀들이 그려지기 전이기 때문에 페이지에는 아무것도 보이지 않는다. 레이아웃 단계가 완료되면 그 다음 바로 나머지 non-layout css들이 렌더링 되면서 픽셀들이 그려진다.</p>
<p>브라우저는 모든 CSS를 파싱 할 때까지 렌더링을 차단한다. 따라서 각 페이지에 적용되지 않는 css를 제거하면서 로드 시간을 향상시킬 수 있다.</p>
<p>또 중첩된 선택자는 CSSOM의 부모 노드를 확인 후 적용되기 때문에 중첩이 많을수록 성능이 약간 떨어질 수 있다.</p></div><div class="article-bottom" data-v-0cc18c81=""><p class="text-ps" data-v-0cc18c81=""><strong data-v-0cc18c81="">수정이 필요한 부분</strong> 혹은 <strong data-v-0cc18c81="">더 나은 방법</strong>을 알고계신가요? <br data-v-0cc18c81=""> 댓글로 알려주시면 저에게 큰 도움이 됩니다! 😊💜 </p><div class="vue-utterances" data-v-0cc18c81=""><div class="utterances">
    <iframe class="utterances-frame" title="Comments" scrolling="no" src="https://utteranc.es/utterances.html?async=&amp;src=https%3A%2F%2Futteranc.es%2Fclient.js&amp;repo=yemsu%2Fyemsu.github.io&amp;issue-term=pathname&amp;theme=github-light&amp;crossorigin=anonymous&amp;url=http%3A%2F%2Flocalhost%3A8000%2Fcss-rendering-process&amp;origin=http%3A%2F%2Flocalhost%3A8000&amp;pathname=css-rendering-process&amp;title=ENJOY+DEV&amp;description=&amp;og%3Atitle=&amp;session=" loading="lazy"></iframe>
  </div></div></div></article></div><footer data-v-183da9a0=""> copyright © <a href="https://github.com/yemsu" target="_blank" title="Github (새창)" data-v-183da9a0="">yemsu</a>. All right reserved. </footer></div><script src="/js/chunk-vendors.js"></script><script src="/js/app.js"></script></body></html>